---
phase: 04-landing-page
plan: 05
type: execute
wave: 1
depends_on: []
files_modified:
  - src/lib/provisioning/cloud-init-builder.ts
autonomous: true

must_haves:
  truths:
    - "Public Rachel repo exists on GitHub with clean README"
    - "Cloud-init clones from public repo URL instead of private rachel8"
    - "Public repo contains stable Rachel source code without dev/planning files"
  artifacts:
    - path: "src/lib/provisioning/cloud-init-builder.ts"
      provides: "Updated clone URL to public repo"
      contains: "github.com/polly3223/rachel"
  key_links:
    - from: "cloud-init-builder.ts"
      to: "public GitHub repo"
      via: "git clone URL in runcmd"
      pattern: "git clone.*rachel"
---

<objective>
Create a clean public GitHub repo for Rachel (the open-source personal AI assistant) and update the cloud-init builder to clone from it instead of the private rachel8 repo.

Purpose: Establish the public-facing open-source repo that serves as both marketing channel and the deployment source for user VPSs.
Output: Public repo with README, LICENSE, clean source code. Cloud-init updated to use public repo URL.
</objective>

<execution_context>
@/home/rachel/.claude/get-shit-done/workflows/execute-plan.md
@/home/rachel/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-landing-page/04-CONTEXT.md
@src/lib/provisioning/cloud-init-builder.ts
</context>

<tasks>

<task type="auto">
  <name>Create public Rachel repo on GitHub</name>
  <files>
(external: GitHub repo creation)
  </files>
  <action>
Create a new public GitHub repository for Rachel:

1. Create repo using GitHub CLI:
   `gh repo create polly3223/rachel --public --description "Your personal AI assistant on Telegram, powered by Claude" --clone`

2. Set up the repo structure by copying stable source files from /home/rachel/rachel8:
   - Copy src/ directory (core source code)
   - Copy package.json, tsconfig.json, bun.lock
   - Copy rachel8.service (systemd service template)
   - DO NOT copy: .claude/, .planning/, node_modules/, .env, daily-logs/, any dev/testing files
   - DO NOT copy: src/setup/ (wizard is for dev setup, not needed for managed deployment)

3. Create a comprehensive README.md that explains:
   - What Rachel is (personal AI assistant on Telegram)
   - Key features (Claude-powered, memory system, task scheduling, file access, web search)
   - How it works (architecture overview)
   - Self-hosting quick start guide (for people who want to run it themselves)
   - Link to Rachel Cloud (managed hosting) for those who don't want to self-host
   - Tech stack (Bun, TypeScript, Claude Agent SDK, grammY)
   - License info

4. Create a .gitignore file:
   - node_modules/, .env, *.db, shared/, .claude/

5. Add MIT LICENSE file

6. Initial commit and push to GitHub

7. Verify repo is accessible: `gh repo view polly3223/rachel`
  </action>
  <verify>
Public repo exists at https://github.com/polly3223/rachel
README.md is present and comprehensive
Source code is present without dev/planning files
Repo is public and cloneable
  </verify>
  <done>
Public Rachel repo created with clean source, README, and LICENSE
  </done>
</task>

<task type="auto">
  <name>Update cloud-init to clone from public repo</name>
  <files>
src/lib/provisioning/cloud-init-builder.ts
  </files>
  <action>
Update the cloud-init builder to clone Rachel from the new public repo:

1. Change the git clone URL from the private rachel8 repo to the public rachel repo:
   - Old: `git clone https://github.com/polly3223/Rachel8.git ~/rachel8`
   - New: `git clone https://github.com/polly3223/rachel.git ~/rachel8`
   (Keep ~/rachel8 as the install directory for compatibility with systemd service and .env paths)

2. Verify no other references to the old repo URL exist in the codebase

This is a simple URL change â€” the directory structure on the VPS stays the same (~/rachel8) for backward compatibility with the SSH injector, systemd service template, and .env paths.
  </action>
  <verify>
cloud-init-builder.ts references public repo URL
TypeScript compiles successfully
No references to old private repo URL remain in provisioning code
  </verify>
  <done>
Cloud-init now clones from public repo, VPS provisioning uses publicly accessible source
  </done>
</task>

</tasks>

<verification>
1. Public repo is accessible at https://github.com/polly3223/rachel
2. Repo has clean README explaining what Rachel is
3. Cloud-init builder clones from public repo
4. No dev/planning files in public repo
5. Source code in public repo matches stable rachel8 code
</verification>

<success_criteria>
1. Public GitHub repo exists and is cloneable by anyone
2. README clearly explains Rachel and links to Rachel Cloud
3. Cloud-init builder updated to clone from public repo
4. No private/dev files leaked to public repo
</success_criteria>

<output>
After completion, create `.planning/phases/04-landing-page/04-05-SUMMARY.md`
</output>
